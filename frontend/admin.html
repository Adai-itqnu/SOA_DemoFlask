<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Qu·∫£n L√Ω</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <h1 class="logo">üõçÔ∏è Admin Panel</h1>
            <div class="nav-links">
                <span id="adminInfo"></span>
                <button class="btn btn-secondary" onclick="logout()">ƒêƒÉng Xu·∫•t</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="admin-tabs">
            <button class="tab-btn active" onclick="switchTab('products')">Qu·∫£n L√Ω S·∫£n Ph·∫©m</button>
            <button class="tab-btn" onclick="switchTab('orders')">Qu·∫£n L√Ω ƒê∆°n H√†ng</button>
            <button class="tab-btn" onclick="switchTab('reports')">B√°o C√°o & Th·ªëng K√™</button>
        </div>

        <!-- Products Tab -->
        <div id="productsTab" class="tab-content active">
            <div class="page-header">
                <h2>Qu·∫£n L√Ω S·∫£n Ph·∫©m</h2>
                <button class="btn btn-primary" onclick="showAddProductModal()">+ Th√™m S·∫£n Ph·∫©m</button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>T√™n S·∫£n Ph·∫©m</th>
                            <th>M√¥ T·∫£</th>
                            <th>Gi√°</th>
                            <th>S·ªë L∆∞·ª£ng</th>
                            <th>C·∫≠p Nh·∫≠t</th>
                            <th>Thao T√°c</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <tr>
                            <td colspan="7" class="text-center">ƒêang t·∫£i...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Orders Tab -->
        <div id="ordersTab" class="tab-content">
            <div class="page-header">
                <h2>Qu·∫£n L√Ω ƒê∆°n H√†ng</h2>
                <button class="btn btn-primary" onclick="showAddOrderModal()">+ T·∫°o ƒê∆°n H√†ng</button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Kh√°ch H√†ng</th>
                            <th>Email</th>
                            <th>T·ªïng Ti·ªÅn</th>
                            <th>Tr·∫°ng Th√°i</th>
                            <th>Ng√†y T·∫°o</th>
                            <th>Thao T√°c</th>
                        </tr>
                    </thead>
                    <tbody id="ordersTableBody">
                        <tr>
                            <td colspan="7" class="text-center">ƒêang t·∫£i...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reportsTab" class="tab-content">
            <div class="page-header">
                <h2>B√°o C√°o & Th·ªëng K√™</h2>
                <button class="btn btn-primary" onclick="generateOrderReport()">T·∫°o B√°o C√°o ƒê∆°n H√†ng</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Doanh Thu T·ªïng</h3>
                    <p id="totalRevenue" class="stat-value">0 ‚Ç´</p>
                </div>
                <div class="stat-card">
                    <h3>T·ªïng Chi Ph√≠</h3>
                    <p id="totalCost" class="stat-value">0 ‚Ç´</p>
                </div>
                <div class="stat-card">
                    <h3>L·ª£i Nhu·∫≠n</h3>
                    <p id="totalProfit" class="stat-value profit">0 ‚Ç´</p>
                </div>
                <div class="stat-card">
                    <h3>S·ªë ƒê∆°n H√†ng</h3>
                    <p id="totalOrders" class="stat-value">0</p>
                </div>
            </div>

            <div class="section-header">
                <h3>B√°o C√°o ƒê∆°n H√†ng</h3>
            </div>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Order ID</th>
                            <th>Doanh Thu</th>
                            <th>Chi Ph√≠</th>
                            <th>L·ª£i Nhu·∫≠n</th>
                            <th>Ng√†y T·∫°o</th>
                            <th>Thao T√°c</th>
                        </tr>
                    </thead>
                    <tbody id="orderReportsTableBody">
                        <tr>
                            <td colspan="7" class="text-center">ƒêang t·∫£i...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="section-header">
                <h3>B√°o C√°o S·∫£n Ph·∫©m</h3>
            </div>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Product ID</th>
                            <th>S·ªë L∆∞·ª£ng B√°n</th>
                            <th>Doanh Thu</th>
                            <th>Chi Ph√≠</th>
                            <th>L·ª£i Nhu·∫≠n</th>
                            <th>Thao T√°c</th>
                        </tr>
                    </thead>
                    <tbody id="productReportsTableBody">
                        <tr>
                            <td colspan="7" class="text-center">ƒêang t·∫£i...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addProductModal')">&times;</span>
            <h2>Th√™m S·∫£n Ph·∫©m M·ªõi</h2>
            <form onsubmit="addProduct(event)">
                <div class="form-group">
                    <label>ID</label>
                    <input type="number" id="productId" required>
                </div>
                <div class="form-group">
                    <label>T√™n S·∫£n Ph·∫©m</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label>M√¥ T·∫£</label>
                    <textarea id="productDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Gi√°</label>
                    <input type="number" id="productPrice" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>S·ªë L∆∞·ª£ng</label>
                    <input type="number" id="productQuantity" required>
                </div>
                <button type="submit" class="btn btn-primary">Th√™m</button>
            </form>
        </div>
    </div>

    <div id="editProductModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('editProductModal')">&times;</span>
            <h2>S·ª≠a S·∫£n Ph·∫©m</h2>
            <form onsubmit="updateProduct(event)">
                <input type="hidden" id="editProductId">
                <div class="form-group">
                    <label>T√™n S·∫£n Ph·∫©m</label>
                    <input type="text" id="editProductName" required>
                </div>
                <div class="form-group">
                    <label>M√¥ T·∫£</label>
                    <textarea id="editProductDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Gi√°</label>
                    <input type="number" id="editProductPrice" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>S·ªë L∆∞·ª£ng</label>
                    <input type="number" id="editProductQuantity" required>
                </div>
                <button type="submit" class="btn btn-primary">C·∫≠p Nh·∫≠t</button>
            </form>
        </div>
    </div>

    <div id="addOrderModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addOrderModal')">&times;</span>
            <h2>T·∫°o ƒê∆°n H√†ng M·ªõi</h2>
            <form onsubmit="addOrder(event)">
                <div class="form-group">
                    <label>Order ID</label>
                    <input type="number" id="orderId" required>
                </div>
                <div class="form-group">
                    <label>T√™n Kh√°ch H√†ng</label>
                    <input type="text" id="orderCustomerName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="orderCustomerEmail" required>
                </div>
                <div id="orderItems">
                    <h3>Danh S√°ch S·∫£n Ph·∫©m</h3>
                    <div id="orderItemsList"></div>
                    <button type="button" class="btn btn-secondary" onclick="addOrderItem()">+ Th√™m S·∫£n Ph·∫©m</button>
                </div>
                <button type="submit" class="btn btn-primary">T·∫°o ƒê∆°n H√†ng</button>
            </form>
        </div>
    </div>

    <div id="orderDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('orderDetailsModal')">&times;</span>
            <h2>Chi Ti·∫øt ƒê∆°n H√†ng</h2>
            <div id="orderDetailsContent">
                <!-- Details will be loaded here -->
            </div>
            <div style="margin-top: 20px; text-align: right;">
                <button class="btn btn-secondary" onclick="closeModal('orderDetailsModal')">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <div id="updateStatusModal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" onclick="closeModal('updateStatusModal')">&times;</span>
            <h2>C·∫≠p Nh·∫≠t Tr·∫°ng Th√°i</h2>
            <form onsubmit="updateOrderStatus(event)">
                <input type="hidden" id="statusOrderId">
                <div class="form-group">
                    <label>Tr·∫°ng Th√°i M·ªõi</label>
                    <select id="newStatus" class="form-control" required>
                        <option value="pending">Pending</option>
                        <option value="processing">Processing</option>
                        <option value="shipped">Shipped</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">C·∫≠p Nh·∫≠t</button>
            </form>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>

